{"version":3,"file":"static/development/pages/index.js","sources":["webpack:///webpack/bootstrap","webpack:///./actions/index.js","webpack:///./actions/search.js","webpack:///./actions/type.js","webpack:///./components/index.js","webpack:///./components/search/search.js","webpack:///./hoc/requireGeoLocation.js","webpack:///./pages/index.js","webpack:///./styles/index.js","webpack:///./utils/geolocation.js","webpack:///./utils/index.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"axios\"","webpack:///external \"jquery\"","webpack:///external \"next/config\"","webpack:///external \"prop-types\"","webpack:///external \"react\"","webpack:///external \"react-addons-css-transition-group\"","webpack:///external \"react-redux\"","webpack:///external \"styled-components\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","export * from './search';\nexport * from './type';\n","import { SearchType } from './type';\n\nexport const fetchSearchResult = searchText => {\n  return {\n    type: SearchType.SEARCH,\n    payload: searchText,\n  };\n};\n\nexport const fetchSearchResultFufilled = payload => {\n  return {\n    type: SearchType.SEARCH_FUFILLED,\n    payload,\n  };\n};\n\nexport const fetchSearchResultFailed = err => ({\n  type: SearchType.SEARCH_FAILED,\n  payload: err,\n});\n\nexport const removeSearchData = () => ({\n  type: SearchType.CLEAR_SEARCH,\n});\n","export const SearchType = {\n  SEARCH: '[Search] search',\n  SEARCH_FUFILLED: '[Search] search fufilled',\n  SEARCH_FAILED: '[Search] search failed',\n  CLEAR_SEARCH: '[Search] clear search result',\n};\n","export { default as Search } from './search/search';\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\n\nconst SearchContainer = styled.div`\n    margin-top: 1.5rem;\n    margin-left: 1.5rem;\n    .subtle-enter {\n      opacity: 0.01;\n    }\n\n    .subtle-enter.subtle-enter-active {\n      opacity: 1;\n      transition: opacity 500ms ease-in;\n    }\n\n    .subtle-leave {\n      opacity: 1;\n    }\n\n    .subtle-leave.subtle-leave-active {\n      opacity: 0.01;\n      transition: opacity 300ms ease-in;\n    }\n  `,\n  InputContainer = styled.div`\n    display: flex;\n    width: 419px;\n    height: 51px;\n    position: relative;\n    div:first-child {\n      background-color: #1ebea5;\n      flex: 0 0 79px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n    input {\n      caret-color: #1ebea5;\n      flex: 1;\n      font-size: 2rem;\n      padding-left: 1rem;\n    }\n    input + img {\n      position: absolute;\n      right: 0;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      cursor: pointer;\n    }\n  `,\n  StyledInput = styled.input`\n    box-sizing: border-box;\n    padding: 0 0.5rem;\n    border: 2px solid #1ebea5;\n    :focus {\n      outline: none;\n    }\n  `,\n  StyledSearchResult = styled.ul`\n    display: ${({ display }) => (display ? 'block' : 'none')};\n    box-sizing: border-box;\n    width: 340px;\n    list-style: none;\n    padding: 1rem 1.5rem;\n    background-color: white;\n    border: 2px solid #1ebea5;\n    margin: 0;\n    margin-left: 79px;\n    li {\n      padding: 1rem 0;\n      cursor: pointer;\n      p {\n        padding: 0 !important;\n        color: #d8d8d8;\n        font-size: 1rem;\n        margin-left: 1.9rem;\n        margin-top: 0;\n        margin-bottom: 0;\n      }\n      div {\n        display: flex;\n        align-items: center;\n        justfiy-content: flex-start;\n        p {\n          font-size: 1.2rem;\n          color: black;\n          margin-left: 0.8rem;\n        }\n      }\n    }\n  `,\n  StyledLi = styled.li`\n    background-color: ${({ hover }) => (hover ? 'rgba(30,190,165,.3)' : '')};\n  `,\n  SearchLoadingContainer = styled.div`\n    position:fixed;\n    top:0;\n    left:0;\n    width:100vw;\n    min-height:100vh;\n    background-color:white;\n    z-index:10000;\n  `\n\nclass Search extends PureComponent {\n  state = {\n    searchText: '',\n    index: -1\n  };\n  cache = new Map();\n  componentWillUnmount() {\n    this.cache.clear();\n  }\n\n  onChange = ({ target }) => {\n    this.setState({ searchText: target.value }, () => {\n      this.props.onChange(this.state.searchText);\n    });\n  };\n\n\n  getCachedClickHanlder = (...args) => {\n    const jsonStringified = JSON.stringify(args);\n    const cached = this.cache.get(jsonStringified);\n    if (cached !== undefined) {\n      console.log('from caache');\n      return cached;\n    } else {\n      const a = () => {\n        this.setState({ searchText: '', index: -1 }, () => {\n          this.props.updateZoom();\n          this.props.reset()\n          this.props.moveCenter(args[0], args[1]);\n        });\n      };\n      this.cache.set(jsonStringified, a);\n      return a;\n    }\n  };\n\n  onKeyDown =  e => {\n    if (this.props.searchData.length > 0) {\n      if (e.keyCode === 13) {\n\n      this.props.updateZoom();\n      this.props.reset()\n        const value = this.props.searchData[this.state.index];\n        this.getCachedClickHanlder(\n          value['renderInNaver']['latitude'],\n          value['renderInNaver']['longitude']\n        )();\n      } else if (e.keyCode === 40) {\n        if (this.state.index !== this.props.searchData.length - 1) {\n          this.setState({ index: this.state.index + 1 });\n        }\n      } else if (e.keyCode === 38) {\n        if (this.state.index !== 0) {\n          this.setState({ index: this.state.index - 1 });\n        }\n      }\n    }\n  };\n\n  onClick = () => {\n    if (this.props.searchData.length > 0) {\n  \n      this.props.updateZoom();\n      this.props.reset()\n      const finalIndex = this.state.index === -1 ? 0 : this.state.index;\n      const value = this.props.searchData[finalIndex];\n      this.getCachedClickHanlder(\n        value['renderInNaver']['latitude'],\n        value['renderInNaver']['longitude']\n      )();\n\n    }\n  };\n\n  renderList = () => {\n    if (this.state.searchText.trim() === '') {\n      return;\n    } else if (this.props.error !== null) {\n      return (\n        <StyledSearchResult display={this.props.error !== null}>\n          {<li>{this.props.error.message}</li>}\n        </StyledSearchResult>\n      );\n    } else {\n      return (\n        <StyledSearchResult display={this.props.searchData.length > 0}>\n          {this.props.searchData.map((value, i) => {\n            return (\n              <StyledLi\n                key={i}\n                hover={this.state.index === i}\n                onClick={this.getCachedClickHanlder(\n                  value['renderInNaver']['latitude'],\n                  value['renderInNaver']['longitude']\n                )}\n              >\n                <div>\n                  <img src=\"/static/pin.svg\" alt=\"pin-image\" />\n                  <p>{value.name}</p>\n                </div>\n                <p>{value.jibun_address}</p>\n              </StyledLi>\n            );\n          })}\n        </StyledSearchResult>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <SearchContainer>\n        <InputContainer>\n          <div>\n            <img src=\"/static/logo.svg\" alt=\"logo-image\" />\n          </div>\n          <StyledInput\n            type=\"text\"\n            name=\"searchText\"\n            onChange={this.onChange}\n            value={this.state.searchText}\n            onKeyDown={this.onKeyDown}\n          />\n          <img\n            src=\"/static/search.svg\"\n            alt=\"search-image\"\n            onClick={this.onClick}\n          />\n        </InputContainer>\n        <ReactCSSTransitionGroup\n          transitionName=\"subtle\"\n          transitionEnterTimeout={500}\n          transitionLeaveTimeout={500}\n        >\n          {this.renderList()}\n        </ReactCSSTransitionGroup>\n      </SearchContainer>\n    );\n  }\n}\n\nSearch.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  searchData: PropTypes.array.isRequired,\n  moveCenter: PropTypes.func.isRequired,\n  error: PropTypes.object,\n  reset:PropTypes.func.isRequired,\n  updateZoom:PropTypes.func.isRequired\n};\n\nexport default Search;\n","import React, { Component } from 'react';\nimport axios from 'axios';\n\nconst RequireGeoLocation = BaseComponent => {\n  class RequireGoLocationClass extends Component {\n    state = {\n      latitude: '',\n      longitude: '',\n      count: 0,\n    };\n    componentDidMount() {\n      navigator.geolocation.getCurrentPosition(this.success, this.error);\n    }\n    componentDidUpdate() {\n      navigator.geolocation.getCurrentPosition(this.success, this.error);\n    }\n    success = ({ coords }) => {\n      const latitude = coords.latitude;\n      const longitude = coords.longitude;\n      this.setState({\n        latitude,\n        longitude,\n      });\n    };\n    error = async () => {\n      if (this.state.count == 0) {\n        const { data } = await axios.get('http://www.geoplugin.net/json.gp');\n        const { geoplugin_latitude, geoplugin_longitude } = data;\n        this.setState({\n          latitude: Number(geoplugin_latitude),\n          longitude: Number(geoplugin_longitude),\n          count: 1,\n        });\n      } else {\n        return;\n      }\n    };\n\n    render() {\n      return <BaseComponent {...this.props} location={this.state} />;\n    }\n  }\n\n  return RequireGoLocationClass;\n};\n\nexport default RequireGeoLocation;\n","import React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport getConfig from 'next/config';\nconst { publicRuntimeConfig } = getConfig();\nimport { Search } from '../components';\nimport { connect } from 'react-redux';\nimport { fetchSearchResult, removeSearchData } from '../actions';\nimport RequireGeoLocation from '../hoc/requireGeoLocation';\nimport NearestLocation from '../utils/geolocation';\nimport { compose } from '../utils';\nimport $ from 'jquery';\nimport { HomeContainer,StandardContaienr } from '../styles';\n\nlet CustomOverlay;\n\nclass Index extends Component {\n  state = {\n    zoom: 10,\n    realData: [],\n    standard:'who'\n  };\n  map = null;\n  marker = null;\n  infowindow = null;\n\n  componentDidMount() {\n    let position = new naver.maps.LatLng(37.3595704, 127.105399);\n    if (publicRuntimeConfig.mode === 'production') {\n      position = new naver.maps.LatLng(\n        this.props.location.latitude,\n        this.props.location.longitude\n      );\n    }\n    //create map\n    var mapOptions = {\n      center: position,\n      zoom: 10,\n      mapTypeId: naver.maps.MapTypeId.NORMAL,\n      draggable: true,\n      scrollWheel: false,\n      keyboardShortcuts: false,\n      disableDoubleTapZoom: false,\n      disableDoubleClickZoom: false,\n      disableTwoFingerTapZoom: false,\n      //zoom from naver\n      //   zoomControl: true,\n      // zoomControlOptions: {\n      //   style: naver.maps.ZoomControlStyle.LARGE,\n      //   position: naver.maps.Position.TOP_RIGHT\n      // }\n    };\n    this.map = new naver.maps.Map('map', mapOptions);\n    //create a marker\n    this.marker = new naver.maps.Marker({\n      position: position,\n      map: this.map,\n      icon: {\n        url: '/static/center.svg',\n        origin: new naver.maps.Point(0, 0),\n      },\n      animation: naver.maps.Animation.BOUNCE,\n    });\n    this.fetchData();\n  }\n\n  reset = () => {\n    Object.values(this.state.realData).forEach((value, i) => {\n      if(this.state[i] !== undefined && this.state[i + 'overlay'] !== undefined){\n        this.state[i + 'overlay'].setMap(null)\n        this.state[i].setMap(null)\n      }\n      this.setState({\n        [i + 'overlay']: new CustomOverlay(null,{\n          position: new naver.maps.LatLng(\n            value.latitude,\n            value.longitude\n          ),\n          map: this.map,\n        }),\n      });\n\n      this.setState(\n        {\n          [i]: new naver.maps.Marker({\n            position: new naver.maps.LatLng(\n              value.latitude,\n              value.longitude\n            ),\n            map: this.map,\n            icon: {\n              url: '/static/good.png',\n              origin: new naver.maps.Point(0, 0),\n            },\n          }),\n        },\n        () => {\n          naver.maps.Event.addListener(this.state[i], 'click', e => {\n            this.state[i + 'overlay'].setMap(null);\n            const element = $(\n              `\n                <div class=\"overlay\">\n                  this is clicked\n                </div>\n              `\n            );\n            console.log('clicked')\n            this.setState({\n              [i + 'overlay']: new CustomOverlay(element,{\n                position: new naver.maps.LatLng(\n                  value.latitude,\n                  value.longitude\n                ),\n                map: this.map,\n              })\n            })\n          });\n        }\n      );\n    });\n  }\n\n\n  fetchData = async () => {\n    console.log('called')\n    axios\n      .get(\n        'https://s3.ap-northeast-2.amazonaws.com/misemise-fine-dust-data/current-data/map-data/data.json'\n      )\n      .then(({ data }) => {\n        const realData = data['data'];\n        let nearbyStation = NearestLocation(\n          37.3595704,\n          127.105399,\n          Object.values(realData)\n        );\n        if (publicRuntimeConfig.mode === 'production') {\n          nearbyStation = NearestLocation(\n            this.props.location.latitude,\n            this.props.location.longitude,\n            Object.values(realData)\n          );\n        }\n\n        // //create a info view\n        // var contentString = [\n        //   '<div class=\"info_window\">',\n        //   '<div class=\"first-wrapper\">',\n        //   '<img src=\"/static/happy.svg\">',\n        //   \"<div class='first-text-wrapper'>\",\n        //   ` <p>${nearbyStation.stationName}</p>`,\n        //   ` <h3>좋음</h3>`,\n        //   '</div>',\n        //   '</div>',\n        //   '<div class=\"second-wrapper\">',\n        //   '<p>mise dusty</p>',\n        //   '<p>good 12 </p>',\n        //   '</div>',\n        //   '</div>',\n        // ].join('');\n\n        // this.infowindow = new naver.maps.InfoWindow({\n        //   content: contentString,\n        //   backgroundColor: '#0277BD',\n        //   disableAnchor: true,\n        //   borderWidth: '0',\n        //   pixelOffset: new naver.maps.Point(0, -10),\n        // });\n        // // this.infowindow.open(this.map, this.marker)\n\n        CustomOverlay = function(element = null, options) {\n          if(element == null){\n            this._element = $(\n              `\n                <div class=\"overlay\">\n                  this is not clicked yet\n                </div>\n              `\n            );\n          }else{\n            this._element = element;\n          }\n       \n\n          this.setPosition(options.position);\n          this.setMap(options.map || null);\n        };\n        CustomOverlay.prototype = new naver.maps.OverlayView();\n\n        CustomOverlay.prototype.constructor = CustomOverlay;\n        CustomOverlay.prototype.setPosition = function(position) {\n          this._position = position;\n          this.draw();\n        };\n        CustomOverlay.prototype.getPosition = function() {\n          return this._position;\n        };\n        CustomOverlay.prototype.onAdd = function() {\n          var overlayLayer = this.getPanes().overlayLayer;\n\n          this._element.appendTo(overlayLayer);\n        };\n        CustomOverlay.prototype.onRemove = function() {\n          this._element.remove();\n\n          // 이벤트 핸들러를 설정했다면 정리합니다.\n          this._element.off();\n        };\n        CustomOverlay.prototype.draw = function() {\n          // 지도 객체가 설정되지 않았으면 draw 기능을 하지 않습니다.\n          if (!this.getMap()) {\n            return;\n          }\n\n          // projection 객체를 통해 LatLng 좌표를 화면 좌표로 변경합니다.\n          var projection = this.getProjection(),\n            position = this.getPosition();\n\n          var pixelPosition = projection.fromCoordToOffset(position);\n\n          this._element.css('left', pixelPosition.x);\n          this._element.css('top', pixelPosition.y);\n        };\n\n        this.setState({ realData }, () => {\n          Object.values(realData).forEach((value, i) => {\n            if(this.state[i] !== undefined && this.state[i + 'overlay'] !== undefined){\n              this.state[i + 'overlay'].setMap(null)\n              this.state[i].setMap(null)\n            }\n            this.setState({\n              [i + 'overlay']: new CustomOverlay(null,{\n                position: new naver.maps.LatLng(\n                  value.latitude,\n                  value.longitude\n                ),\n                map: this.map,\n              }),\n            });\n\n            this.setState(\n              {\n                [i]: new naver.maps.Marker({\n                  position: new naver.maps.LatLng(\n                    value.latitude,\n                    value.longitude\n                  ),\n                  map: this.map,\n                  icon: {\n                    url: '/static/good.png',\n                    origin: new naver.maps.Point(0, 0),\n                  },\n                }),\n              },\n              () => {\n                naver.maps.Event.addListener(this.state[i], 'click', e => {\n                  this.state[i + 'overlay'].setMap(null);\n                  const element = $(\n                    `\n                      <div class=\"overlay\">\n                        this is clicked\n                      </div>\n                    `\n                  );\n                  console.log('clicked')\n                  this.setState({\n                    [i + 'overlay']: new CustomOverlay(element,{\n                      position: new naver.maps.LatLng(\n                        value.latitude,\n                        value.longitude\n                      ),\n                      map: this.map,\n                    })\n                  })\n                });\n              }\n            );\n          });\n        });\n      });\n  };\n\n  onCenter = () => {\n    const center = new naver.maps.LatLng(37.3595704, 127.105399);\n    this.map.setZoom(10, true);\n    this.map.panTo(center);\n    Object.values(this.state.realData).map((value, i) => {\n      this.state[i].setMap(null);\n      this.state[i + 'overlay'].setMap(null);\n    });\n    this.setState({ zoom: 10 }, () => {\n      this.fetchData();\n    });\n  };\n\n  onChange = searchText => {\n    this.props.fetchSearchResult(searchText);\n  };\n  moveCenter = (lat, lng) => {\n    const center = new naver.maps.LatLng(lat, lng);\n    this.map.setZoom(10, true);\n    this.map.panTo(center);\n    this.props.removeSearchData();\n  };\n  onZoomIn = () => {\n    this.setState({ zoom: this.state.zoom + 1 }, () => {\n      if (this.state.zoom === 8) {\n        Object.values(this.state.realData).forEach((value, i) => {\n          this.state[i].setMap(null);\n          this.setState({\n            [i + 'overlay']: new CustomOverlay(null,{\n              position: new naver.maps.LatLng(value.latitude, value.longitude),\n              map: this.map,\n            }),\n          });\n          this.setState({\n            [i]: new naver.maps.Marker({\n              position: new naver.maps.LatLng(value.latitude, value.longitude),\n              map: this.map,\n              icon: {\n                url: '/static/good.png',\n                origin: new naver.maps.Point(0, 0),\n              },\n            }),\n          }, () => {\n            naver.maps.Event.addListener(this.state[i], 'click', e => {\n              this.state[i + 'overlay'].setMap(null);\n              const element = $(\n                `\n                  <div class=\"overlay\">\n                    this is not clicked\n                  </div>\n                `\n              );\n              console.log('clicked')\n              this.setState({\n                [i + 'overlay']: new CustomOverlay(element,{\n                  position: new naver.maps.LatLng(\n                    value.latitude,\n                    value.longitude\n                  ),\n                  map: this.map,\n                })\n              })\n            })\n          });\n        });\n      }\n      this.map.setZoom(this.state.zoom, true);\n    });\n  };\n  onZoomOut = () => {\n    this.setState({ zoom: this.state.zoom - 1 }, () => {\n      if (this.state.zoom === 5) {\n        Object.values(this.state.realData).forEach((value, i) => {\n            this.state[i + 'overlay'].setMap(null);\n            this.state[i].setMap(null);\n          this.setState({\n            [i]: new naver.maps.Marker({\n              position: new naver.maps.LatLng(value.latitude, value.longitude),\n              map: this.map,\n              icon: {\n                url: '/static/bad.png',\n                origin: new naver.maps.Point(0, 0),\n              },\n            }),\n          });\n        });\n      }\n      this.map.setZoom(this.state.zoom, true);\n    });\n  };\n\n  onClickWho = () => {\n    this.setState({standard:'who'})\n  };\n\n  onClickKorea = () => {\n    this.setState({standard:'korea'})\n  };\n\n  updateZoom = () => {this.setState({zoom:10})}\n\n  render() {\n    return (\n      <HomeContainer>\n        <div className=\"home-container__second-comp\">\n          <div\n            className=\"home-container__second-comp--center-button\"\n            onClick={this.onCenter}\n          >\n            <img src=\"/static/mylocation.svg\" alt=\"my-location\" />\n          </div>\n          <div\n            className=\"home-container__second-comp--zoomIn-button\"\n            onClick={this.onZoomIn}\n          >\n            <img src=\"/static/zoomIn.svg\" alt=\"zoom-in\" />\n          </div>\n          <div\n            className=\"home-container__second-comp--zoomOut-button\"\n            onClick={this.onZoomOut}\n          >\n            <img src=\"/static/zoomOut.svg\" alt=\"zoom-out\" />\n          </div>\n          <StandardContaienr\n            className=\"home-container__second-comp--who\"\n            onClick={this.onClickWho}\n            standard={this.state.standard === 'who'}\n          >\n            WHO\n          </StandardContaienr>\n          <StandardContaienr\n            className=\"home-container__second-comp--who-answer\"\n            onClick={this.onClickKorea}\n            standard={this.state.standard === \"korea\"}\n          >\n            한국\n          </StandardContaienr>\n          <div className=\"home-container__second-comp--search-container\">\n            <Search\n              onChange={this.onChange}\n              searchData={this.props.searchData}\n              error={this.props.error}\n              moveCenter={this.moveCenter}\n              reset={this.reset}\n              updateZoom={this.updateZoom}\n            />\n          </div>\n          <div id=\"map\" style={{ width: `100vw`, minHeight: '100vh' }} />\n        </div>\n      </HomeContainer>\n    );\n  }\n}\n\nconst mapStateToProps = ({ search }) => {\n  const { searchData, error } = search;\n  return {\n    searchData,\n    error,\n  };\n};\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    { fetchSearchResult, removeSearchData }\n  ),\n  RequireGeoLocation\n)(Index);\n","import styled from 'styled-components';\n\nexport const HomeContainer = styled.div`\n  display: flex;\n  min-height: 100vh;\n  .home-container__second-comp {\n    flex: 1;\n    position: relative;\n    & > div {\n      box-shadow: 0px 2px 4px #000000;\n    }\n    &--center-button {\n      position: absolute;\n      top: 1.5rem;\n      right: 1.5rem;\n      z-index: 100;\n      padding: 0.3rem;\n      background-color: white;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n    }\n    &--zoomIn-button {\n      position: absolute;\n      top: 6.91rem;\n      right: 1.5rem;\n      z-index: 100;\n      padding: 0.3rem;\n      background-color: white;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      img {\n        width: 2.4rem;\n        height: 2.4rem;\n      }\n    }\n    &--zoomOut-button {\n      position: absolute;\n      top: 10rem;\n      right: 1.5rem;\n      z-index: 100;\n      padding: 0.3rem;\n      background-color: white;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      img {\n        transform: rotate(90deg);\n        width: 2.4rem;\n        height: 2.4rem;\n      }\n    }\n    &--who {\n      box-sizing: border-box;\n      position: absolute;\n      top: 15rem;\n      right: 1.5rem;\n      z-index: 100;\n      padding: 0.3rem;\n      background-color: white;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: 0.8rem;\n      font-weight: bold;\n      width: 3rem;\n      cursor: pointer;\n    }\n    &--who-answer {\n      box-sizing: border-box;\n      position: absolute;\n      top: 16.5rem;\n      width: 3rem;\n      right: 1.5rem;\n      z-index: 100;\n      padding: 0.3rem;\n      background-color: white;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-weight: bold;\n      font-size: 0.8rem;\n      cursor: pointer;\n    }\n    &--search-container {\n      width: 15rem;\n      height: 4rem;\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 100;\n    }\n  }\n  @media (max-width: 70rem) {\n    flex-direction: column-reverse;\n    .home-container__second-comp {\n      #map {\n        width: 100vw !important;\n      }\n    }\n  }\n`,\nStandardContaienr = styled.div`\n color:${({standard}) => standard ? '#1ebea5' : 'lightgrey'}\n`;","const GeoLocation = (() => {\n  const privateWeakMap = new WeakMap();\n\n  class GeolocationClass {\n    constructor(location = null) {\n      if (location !== null) {\n        this.location = location;\n      }\n\n      privateWeakMap.set(this, {\n        Deg2Rad(deg) {\n          return (deg * Math.PI) / 180;\n        },\n        PythagorasEquirectangular(lat1, lon1, lat2, lon2) {\n          lat1 = this.Deg2Rad(lat1);\n          lat2 = this.Deg2Rad(lat2);\n          lon1 = this.Deg2Rad(lon1);\n          lon2 = this.Deg2Rad(lon2);\n          var R = 6371; // km\n          var x = (lon2 - lon1) * Math.cos((lat1 + lat2) / 2);\n          var y = lat2 - lat1;\n          var d = Math.sqrt(x * x + y * y) * R;\n          return d;\n        },\n      });\n    }\n    set setLocations(locations) {\n      this.location = locations;\n    }\n\n    static nearestLocation(latitude, longitude, locations) {\n      var mindif = 99999;\n      var closest;\n\n      for (let index = 0; index < locations.length; ++index) {\n        var dif = privateWeakMap\n          .get(this)\n          .PythagorasEquirectangular(\n            latitude,\n            longitude,\n            locations[index]['latitude'],\n            locations[index]['longitude']\n          );\n        if (dif < mindif) {\n          closest = index;\n          mindif = dif;\n        }\n      }\n\n      // return the nearest location\n      var closestLocation = locations[closest];\n      return closestLocation;\n    }\n  }\n\n  return GeolocationClass;\n})();\n\n// Convert Degress to Radians\nfunction Deg2Rad(deg) {\n  return (deg * Math.PI) / 180;\n}\n\nfunction PythagorasEquirectangular(lat1, lon1, lat2, lon2) {\n  lat1 = Deg2Rad(lat1);\n  lat2 = Deg2Rad(lat2);\n  lon1 = Deg2Rad(lon1);\n  lon2 = Deg2Rad(lon2);\n  var R = 6371; // km\n  var x = (lon2 - lon1) * Math.cos((lat1 + lat2) / 2);\n  var y = lat2 - lat1;\n  var d = Math.sqrt(x * x + y * y) * R;\n  return d;\n}\n\nfunction NearestLocation(latitude, longitude, locations) {\n  let mindif = 99999;\n  let closest;\n  for (index = 0; index < locations.length; ++index) {\n    var dif = PythagorasEquirectangular(\n      latitude,\n      longitude,\n      locations[index]['latitude'],\n      locations[index]['longitude']\n    );\n    if (dif < mindif) {\n      closest = index;\n      mindif = dif;\n    }\n  }\n\n  // return the nearest location\n  var closestLocation = locations[closest];\n  return closestLocation;\n}\n\nmodule.exports = NearestLocation;\n","export const compose = (...fns) => x => fns.reduce((acc, fn) => fn(acc), x);\n","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"axios\");","module.exports = require(\"jquery\");","module.exports = require(\"next/config\");","module.exports = require(\"prop-types\");","module.exports = require(\"react\");","module.exports = require(\"react-addons-css-transition-group\");","module.exports = require(\"react-redux\");","module.exports = require(\"styled-components\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AAAA;AACA;AACA;AAFA;AAAA;AAKA;AAAA;AACA;AADA;AAAA;;;;;;;;;;;;ACrBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAwDA;AAAA;AAAA;AAxDA;AAyFA;AAAA;AAAA;AAzFA;AACA;AAoGA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAGA;AACA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAIA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AAHA;AASA;AAAA;AAAA;AAMA;AAGA;AACA;AACA;;;;;;AAtGA;AACA;AACA;;;AAqGA;AACA;AAIA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AAHA;AAOA;AACA;AACA;AAHA;AASA;;;;AA1IA;AACA;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChQA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAGA;AACA;AACA;AAHA;AACA;AAHA;AAaA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AArBA;AAAA;AAAA;AAAA;AAAA;AAqBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AACA;AALA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAtBA;AAAA;AACA;AADA;AAAA;AAAA;AAQA;AACA;AATA;AAAA;AAAA;AAWA;AACA;AAZA;AAAA;AAAA;AAoCA;AAAA;AAAA;AACA;AArCA;AACA;AADA;AAAA;AACA;AAuCA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAHA;AACA;AAIA;AACA;AAAA;AACA;AAAA;AACA;AAyCA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAEA;AAIA;AALA;AACA;AAQA;AAGA;AAIA;AACA;AACA;AACA;AAFA;AANA;AAaA;AACA;AACA;AAAA;AAOA;AACA;AAAA;AAEA;AAIA;AALA;AAQA;AACA;AAEA;AACA;AACA;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AACA;AACA;AACA;AAIA;AACA;AAKA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAOA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAEA;AAIA;AALA;AACA;AAQA;AAGA;AAIA;AACA;AACA;AACA;AAFA;AANA;AAaA;AACA;AACA;AAAA;AAOA;AACA;AAAA;AAEA;AAIA;AALA;AAQA;AACA;AAEA;AACA;AACA;AACA;AA7JA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA8JA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAFA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAHA;AASA;AACA;AACA;AAAA;AAOA;AACA;AAAA;AAEA;AAIA;AALA;AAQA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAHA;AASA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AApWA;AACA;AACA;AAAA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAPA;AASA;AACA;;;AA+TA;AACA;AAEA;AAAA;AAEA;AACA;AAFA;AAIA;AAAA;AAAA;AAGA;AACA;AAFA;AAIA;AAAA;AAAA;AAGA;AACA;AAFA;AAIA;AAAA;AAAA;AAGA;AACA;AACA;AAHA;AAQA;AACA;AACA;AAHA;AAOA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAjaA;AACA;AAmaA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAGA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9bA;AAEA;AAAA;AAyGA;AAAA;AAAA;;;;;;;;;;;;;;;;;AC3GA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAdA;AAgBA;AACA;AA1BA;AAAA;AAAA;AA2BA;AACA;AA5BA;AAAA;AAAA;AA+BA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApDA;AACA;AADA;AAAA;AACA;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}